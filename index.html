<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>(ethical) hacking society</title>
        <script src="https://unpkg.com/lucide@latest"></script>
        <link rel="stylesheet" href="./styles.css">
    </head>
    <body>
        <nav class="navbar">
            <div class="nav-content">
                <a href="/" class="logo">(ethical) hacking society</a>
                <div class="nav-links">
                    <a href="about.html">about</a>
                    <a href="projects.html">projects</a>
                    <a href="blog.html">blog</a>
                    <a href="#join.html">join</a>
                    <button class="theme-tgl" id="themeTgl" onclick="redirect()"> <!-- i know the id is themeTgl but i cant be asked to make a light and dark theme so this is now a link to the github repo-->
                        <i data-lucide="code"></i> <!-- button for the repo now -->
                    </button>
                </div>
            </div>
        </nav>
        <div class="content">
            <div class="grid-bg"></div>
            <div class="title">
                <h1 class="h-title">(ethical) hacking society</h1>
                <p class="h-subtitle">(ethical) hacking society - a hacking/coding club</p>
            </div>
        </div>
        <div class="section-td-wrapper">
            <div class="section-td">
                <div class="td-content">
                    <span class="td-time">00:00</span>
                    <span class="td-page">- 0.1</span>
                </div>
                <p class="q-text">code unique projects<br> learn new skills whilst doing that, <br> and get rewarded with free stuff!</p>
            </div>
        </div>
        <div class="content2-wrapper">
            <div class="content2">
                <div class="content2-inner">
                    <div class="text-block">
                        <h1 class="h-title">what is this?</h1>
                        <p class="h-subtitle">ethical hacking society is a club that's powered by <a href="https://hackclub.com" style="color: rgba(139,92,246,0.8);text-decoration:underline;">Hack Club</a>. we are a diverse community of students that collaborate to create cool projects together. current leaders - 7035@tiffin.kingston.sch.uk and 7086@tiffin.kingston.sch.uk</p>
                    </div>
                    <div class="image-block">
                        <img src="./images/image.png">
                    </div>
                </div>
            </div>
        </div>
        <div class="section-td-wrapper scroll-sec">
            <div class="section-td">
                <div class="scrolltainer">
                    <div class="scroll-con">
                        <span>coding • rewards • intelligence • technology • coding • rewards • intelligence • technology •</span>
                        <span>coding • rewards • intelligence • technology • coding • rewards • intelligence • technology •</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="section-td-wrapper footer-wpr">
            <div class="section-td">
                <div class="td-content">
                    <span>This website is open sourced on GitHub!</span>
                    <span class="td-page">GitHub commit:</span>
                </div>
            </div>
        </div>
    </body>
    <script>
        lucide.createIcons();

        function updTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timeEls = document.querySelectorAll('.td-time');
            timeEls.forEach(el => {
                el.textContent =`${hours}:${minutes}:${seconds}`;
            });
        }

        updTime();
        setInterval(updTime, 1000); // we upd time every second

        async function fetchCommit() {
            try {
                const response = await fetch('https://api.github.com/repos/carbonicality/ethical_hacking_society/commits?per_page=1');
                const data = await response.json();
                const commitHash = data[0].sha.substring(0,7); // we get the short hash

                const commitEls = document.querySelectorAll('.td-page');
                commitEls.forEach(el => {
                    if (el.textContent.includes('GitHub commit:')) {
                        el.textContent = `GitHub commit: ${commitHash}`;
                    }
                });
            } catch (error) {
                console.error('error fetching commit :skull:', error);
                const commitEls = document.querySelectorAll('.td-page');
                commitEls.forEach(el => {
                    if (el.textContent.includes('GitHub commit:')) {
                        el.textContent = 'GitHub commit: unavailable';
                    }
                });
            }
        }
        
        function redirect() {
            window.location.href = 'https://github.com/carbonicality/ethical_hacking_society/';
        }

        fetchCommit();
    </script>
</html>
